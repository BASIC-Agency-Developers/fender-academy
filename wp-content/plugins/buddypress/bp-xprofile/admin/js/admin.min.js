function add_option(e){var t=document.getElementById(e+"_more"),o=document.getElementById(e+"_option_number").value,n=document.createElement("div"),r=document.createElement("span"),i=document.createElement("input"),d=document.createElement("input"),a=document.createElement("label"),l=document.createElement("input"),u=document.createTextNode("Default Value"),s=document.createTextNode("Delete"),c=document.createElement("div"),p=document.createElement("a");n.setAttribute("id",e+"_div"+o),n.setAttribute("class","bp-option sortable"),r.setAttribute("class","bp-option-icon grabber"),i.setAttribute("type","text"),i.setAttribute("name",e+"_option["+o+"]"),i.setAttribute("id",e+"_option"+o),d.setAttribute("type","text"),d.setAttribute("name",e+"_value["+o+"]"),d.setAttribute("id",e+"_value"+o),d.setAttribute("placeholder","language code: es,en,ro"),"checkbox"===e||"multiselectbox"===e?(l.setAttribute("type","checkbox"),l.setAttribute("name","isDefault_"+e+"_option["+o+"]")):(l.setAttribute("type","radio"),l.setAttribute("name","isDefault_"+e+"_option")),l.setAttribute("value",o),p.setAttribute("href",'javascript:hide("'+e+"_div"+o+'")'),p.setAttribute("class","delete"),p.appendChild(s),c.setAttribute("class","delete-button"),c.appendChild(p),a.appendChild(document.createTextNode(" ")),a.appendChild(l),a.appendChild(document.createTextNode(" ")),a.appendChild(u),a.appendChild(document.createTextNode(" ")),n.appendChild(r),n.appendChild(document.createTextNode(" ")),n.appendChild(i),n.appendChild(d),n.appendChild(a),n.appendChild(c),t.appendChild(n),enableSortableFieldOptions(e),document.getElementById(e+"_option"+o).focus(),o++,document.getElementById(e+"_option_number").value=o}function show_options(e){for(var t=0;t<XProfileAdmin.supports_options_field_types.length;t++)document.getElementById(XProfileAdmin.supports_options_field_types[t]).style.display="none";XProfileAdmin.supports_options_field_types.indexOf(e)<0||(document.getElementById(e).style.display="")}function hide(e){if(!document.getElementById(e))return!1;document.getElementById(e).style.display="none";var t=e.replace("div","option");document.getElementById(t).value=""}function toggle_no_member_type_notice(){var e=jQuery("input.member-type-selector");if(e.length){var t=!1;e.each(function(){return jQuery(this).is(":checked")?(t=!0,!1):void 0}),t?jQuery("p.member-type-none-notice").addClass("hide"):jQuery("p.member-type-none-notice").removeClass("hide")}}function enableSortableFieldOptions(){jQuery(".bp-options-box").sortable({cursor:"move",items:"div.sortable",tolerance:"intersect",axis:"y"}),jQuery(".sortable, .sortable span").css("cursor","move")}function destroySortableFieldOptions(){jQuery(".bp-options-box").sortable("destroy"),jQuery(".sortable, .sortable span").css("cursor","default")}function titleHint(e){e=e||"title";var t=jQuery("#"+e),o=jQuery("#"+e+"-prompt-text");""===t.val()?o.removeClass("screen-reader-text"):o.addClass("screen-reader-text"),o.click(function(){jQuery(this).addClass("screen-reader-text"),t.focus()}),t.blur(function(){""===this.value&&o.removeClass("screen-reader-text")}).focus(function(){o.addClass("screen-reader-text")}).keydown(function(e){o.addClass("screen-reader-text"),jQuery(this).unbind(e)})}var fixHelper=function(e,t){return t.children().each(function(){jQuery(this).width(jQuery(this).width())}),t};jQuery(document).ready(function(){function e(e){t=jQuery("ul:first li",e).droppable({accept:".connectedSortable fieldset",hoverClass:"ui-state-hover",activeClass:"ui-state-acceptable",touch:"pointer",tolerance:"pointer",drop:function(o,n){var r=jQuery(this),i=jQuery(r.find("a").attr("href")).find(".connectedSortable");jQuery(r).removeClass("drop-candidate"),n.draggable.hide("slow",function(){e.tabs("option","active",t.index(r)),jQuery(this).appendTo(i).show("slow").animate({opacity:"1"},500),i=jQuery(r.find("a").attr("href")).find(".connectedSortable"),jQuery(i).find("p.nofields").hide("slow"),jQuery.post(ajaxurl,{action:"xprofile_reorder_fields",cookie:encodeURIComponent(document.cookie),_wpnonce_reorder_fields:jQuery("input#_wpnonce_reorder_fields").val(),field_order:jQuery(i).sortable("serialize"),field_group_id:jQuery(i).attr("id")},function(){})})},over:function(){jQuery(this).addClass("drop-candidate")},out:function(){jQuery(this).removeClass("drop-candidate")}})}jQuery("#bp-xprofile-add-field #title").focus(),toggle_no_member_type_notice(),jQuery("input.member-type-selector").on("change",function(){toggle_no_member_type_notice()}),jQuery("a.ajax-option-delete").on("click",function(){var e=this.id.split("-");e=e[1],jQuery.post(ajaxurl,{action:"xprofile_delete_option",cookie:encodeURIComponent(document.cookie),_wpnonce:jQuery("input#_wpnonce").val(),option_id:e},function(){})}),jQuery('[id^="sort_order_"]').change(function(){"custom"!==jQuery(this).val()?destroySortableFieldOptions():enableSortableFieldOptions(jQuery("#fieldtype :selected").val())}),jQuery("ul#field-group-tabs").show(),jQuery("ul#field-group-tabs").sortable({cursor:"move",axis:"x",opacity:1,items:"li",tolerance:"intersect",update:function(){jQuery.post(ajaxurl,{action:"xprofile_reorder_groups",cookie:encodeURIComponent(document.cookie),_wpnonce_reorder_groups:jQuery("input#_wpnonce_reorder_groups").val(),group_order:jQuery(this).sortable("serialize")},function(){})}}).disableSelection(),jQuery("fieldset.field-group").sortable({cursor:"move",opacity:.7,items:"fieldset",tolerance:"pointer",update:function(){jQuery.post(ajaxurl,{action:"xprofile_reorder_fields",cookie:encodeURIComponent(document.cookie),_wpnonce_reorder_fields:jQuery("input#_wpnonce_reorder_fields").val(),field_order:jQuery(this).sortable("serialize"),field_group_id:jQuery(this).attr("id")},function(){})}}).disableSelection(),enableSortableFieldOptions(jQuery("#fieldtype :selected").val()),titleHint("title");var t,o=jQuery("#tabs").tabs();e(o)});